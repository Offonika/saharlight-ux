# Example environment variables

# General application settings
APP_NAME=diabetes-bot
DEBUG=False
PHOTOS_DIR=/var/lib/diabetes-bot/photos

# Database configuration
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/diabetes
DB_HOST=localhost
DB_PORT=5432
DB_NAME=diabetes
DB_USER=postgres
DB_PASSWORD=postgres
DB_READ_ROLE=
DB_READ_PASSWORD=
DB_WRITE_ROLE=
DB_WRITE_PASSWORD=

# JWT settings
JWT_SECRET=change-me
JWT_EXPIRE_DAYS=7

# Optional service URLs
WEBAPP_URL=http://localhost:3000
API_URL=http://localhost:8000
# URL WebApp-страницы подписки
SUBSCRIPTION_URL=https://bot.offonika.ru/subscription
# Base path for the web app; used by both frontend and backend. Defaults to /ui/
UI_BASE_URL=/ui/
# Base API URL for the webapp; defaults to '/api'.
# Leave empty to use '/api' or set a full URL without a trailing slash.
VITE_API_BASE=/api
# VITE_API_BASE=http://localhost:8000

# OpenAI configuration
OPENAI_API_KEY=your-openai-api-key
OPENAI_ASSISTANT_ID=your-openai-assistant-id
OPENAI_PROXY=  # e.g., http://proxy.local:8080

# Custom font directory
FONT_DIR=infra/fonts

# Onboarding
ONBOARDING_VIDEO_URL=

# Telegram
TELEGRAM_TOKEN=your-telegram-bot-token
TELEGRAM_PAYMENTS_PROVIDER_TOKEN=your-telegram-payments-token

# Billing configuration
BILLING_ENABLED=false
BILLING_TEST_MODE=true
BILLING_PROVIDER=dummy
PAYWALL_MODE=off
BILLING_WEBHOOK_SECRET=
# Comma-separated string of allowed source IPs for billing webhooks, e.g., "1.2.3.4,5.6.7.8"
BILLING_WEBHOOK_IPS=
# Timeout in seconds for webhook signature verification
BILLING_WEBHOOK_TIMEOUT=5

# Learning mode
LEARNING_MODE_ENABLED=true
ASSISTANT_MODE_ENABLED=true
LEARNING_MODEL_DEFAULT=gpt-4o-mini
LEARNING_PROMPT_CACHE=true
LEARNING_PROMPT_CACHE_SIZE=128
LEARNING_PROMPT_CACHE_TTL_SEC=28800
LEARNING_CONTENT_MODE=dynamic
LEARNING_PLANNER_MODEL=gpt-4o-mini
ASSISTANT_MAX_TURNS=16
ASSISTANT_SUMMARY_TRIGGER=12
