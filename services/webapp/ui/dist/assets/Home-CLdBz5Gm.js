import{c as r,u as h,j as e}from"./index-gZWaLxZh.js";import{u as p,f as i,a as g}from"./stats-D7oSki_7.js";import{M as f}from"./MedicalHeader-BiVwHQVw.js";import{M as l}from"./MedicalButton-CxU4I3xT.js";import{u as y}from"./vendor-CzhASIQC.js";import{C as j}from"./clock-BjnWLbLS.js";import{S as b}from"./star-B0HZzWBr.js";import"./switch-CGngOfw1.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=r("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=r("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),k=[{id:"reminders",title:"Напоминания",icon:j,description:"Настройка уведомлений",route:"/reminders",color:"medical-blue"},{id:"profile",title:"Мой профиль",icon:v,description:"Личные настройки",route:"/profile",color:"medical-teal"},{id:"history",title:"История",icon:N,description:"Записи о сахаре",route:"/history",color:"medical-success"},{id:"subscription",title:"Подписка",icon:b,description:"Тарифы и оплата",route:"/subscription",color:"medical-warning"}],H=()=>{const t=y(),{user:s}=h(),{data:d,isLoading:o,error:n}=p({queryKey:["day-stats",s==null?void 0:s.id],queryFn:()=>g((s==null?void 0:s.id)??0),enabled:!!(s!=null&&s.id),placeholderData:i}),c=d??i,m=a=>{t(a)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20",children:[e.jsx(f,{title:"СахарФото"}),e.jsxs("main",{className:"container mx-auto px-4 py-6",children:[e.jsxs("div",{className:"mb-8 animate-slide-up",children:[e.jsxs("h2",{className:"text-2xl font-bold text-foreground mb-2",children:["Добро пожаловать",s!=null&&s.first_name?`, ${s.first_name}`:"","!"]}),e.jsx("p",{className:"text-muted-foreground",children:"Ваш персональный ассистент для управления диабетом"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:k.map((a,x)=>{const u=a.icon;return e.jsxs("div",{className:"medical-tile",style:{animationDelay:`${x*100}ms`},onClick:()=>m(a.route),children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${a.color==="medical-blue"?"bg-medical-blue/10":a.color==="medical-teal"?"bg-medical-teal/10":a.color==="medical-success"?"bg-medical-success/10":"bg-medical-warning/10"}`,children:e.jsx(u,{className:`w-6 h-6 ${a.color==="medical-blue"?"text-medical-blue":a.color==="medical-teal"?"text-medical-teal":a.color==="medical-success"?"text-medical-success":"text-medical-warning"}`})}),e.jsx("h3",{className:"font-semibold text-foreground mb-1",children:a.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.description})]},a.id)})}),e.jsxs("div",{className:"medical-card animate-fade-in",style:{animationDelay:"400ms"},children:[e.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Быстрые действия"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(l,{variant:"secondary",size:"lg",className:"py-2 text-sm",onClick:()=>t("/history/new-measurement"),children:"Записать сахар"}),e.jsx(l,{variant:"secondary",size:"lg",className:"py-2 text-sm",onClick:()=>t("/history/new-meal"),children:"Добавить еду"})]})]}),o&&e.jsx("p",{className:"text-center text-muted-foreground mt-6",children:"Загрузка статистики..."}),n&&e.jsx("p",{className:"text-center text-destructive mt-6",children:"Не удалось загрузить статистику"}),e.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"medical-card text-center py-4",children:[e.jsx("div",{className:"text-2xl font-bold text-medical-blue",children:c.sugar}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"ммоль/л"})]}),e.jsxs("div",{className:"medical-card text-center py-4",children:[e.jsx("div",{className:"text-2xl font-bold text-medical-teal",children:c.breadUnits}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"ХЕ"})]}),e.jsxs("div",{className:"medical-card text-center py-4",children:[e.jsx("div",{className:"text-2xl font-bold text-medical-success",children:c.insulin}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"ед."})]})]})]})]})};export{H as default};
